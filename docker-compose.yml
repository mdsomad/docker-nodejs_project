version: "3.8"
name: dockerdev
services:
  #?ðŸ‘‡Yah hai service 1
  nodeapp:
    image: somadev-server
    container_name: samplewala-server #? ðŸ‘ˆ Is tarike se container ka name define kar sakte hain
    environment:
      - PORT=4000 #? ðŸ‘ˆ Yah Ek Array hai
      - MONGO_URL=mongodb://admin:password@mongodb #? ðŸ‘ˆ serviceName Add mongodb url
    ports: #? ðŸ‘‡ Yah Bhi Ek Array hai
      - "4000:4000" #? ðŸ‘ˆ Port expose
    depends_on: #? ðŸ‘ˆ yah MongoDB ke upar dependent Hai Pahle MongoDB start hoga Uske bad hi yah start hoga
      - mongodb #? ðŸ‘ˆ serviceName

  #?ðŸ‘‡Yah hai service 2
  mongodb:
    image: mongo
    container_name: dockerdevDB
    ports:
      - "27017:27017" #? ðŸ‘ˆ Port expose
    environment:
      MONGO_INITDB_ROOT_USERNAME: admin
      MONGO_INITDB_ROOT_PASSWORD: password

  #?ðŸ‘‡Yah hai service 3
  authservice:
    image: auth
    container_name: samplewala-authservice
    ports:
      - "5000:5000" #? ðŸ‘ˆ Port expose
    depends_on:
      - nodeapp
    environment:
      - PORT=5000
